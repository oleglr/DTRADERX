!function(e,s){"object"==typeof exports&&"object"==typeof module?module.exports=s(require("@deriv/shared"),require("@deriv/translations")):"function"==typeof define&&define.amd?define(["@deriv/shared","@deriv/translations"],s):"object"==typeof exports?exports["@deriv/account"]=s(require("@deriv/shared"),require("@deriv/translations")):e["@deriv/account"]=s(e["@deriv/shared"],e["@deriv/translations"])}(self,(function(e,s){return(()=>{"use strict";var r={"@deriv/shared":s=>{s.exports=e},"@deriv/translations":e=>{e.exports=s}},t={};function a(e){if(t[e])return t[e].exports;var s=t[e]={exports:{}};return r[e](s,s.exports,a),s.exports}a.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return a.d(s,{a:s}),s},a.d=(e,s)=>{for(var r in s)a.o(s,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:s[r]})},a.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s);var o={};return(()=>{a.d(o,{default:()=>l});var e=a("@deriv/translations"),s=a("@deriv/shared"),r=function(r){var t,a,o,i,l,d=r.account_settings,n=r.is_svg;return d?{address_line_1:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(t=d.address_line_1)&&void 0!==t?t:"",rules:[["req",(0,e.localize)("First line of address is required")],["address",(0,e.localize)("Letters, numbers, spaces, periods, hyphens, apostrophes, commas only")],["length",(0,e.localize)("This should not exceed {{max}} characters.",{max:70}),{max:70}],["po_box",(0,s.getErrorMessages)().po_box()]].filter((function(e){return n?0!==e.indexOf("po_box"):e}))},address_line_2:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(a=d.address_line_2)&&void 0!==a?a:"",rules:[["address",(0,e.localize)("Letters, numbers, spaces, periods, hyphens, apostrophes, commas only")],["length",(0,e.localize)("This should not exceed {{max}} characters.",{max:70}),{max:70}],["po_box",(0,s.getErrorMessages)().po_box()]].filter((function(e){return n?0!==e.indexOf("po_box"):e}))},address_city:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(o=d.address_city)&&void 0!==o?o:"",rules:[["req",(0,e.localize)("City is required")],["regular",(0,e.localize)("Letters, numbers, spaces, periods, hyphens, apostrophes only"),{regex:/^[A-Za-z0-9\s'.-]{1,35}$/}]]},address_state:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(i=d.address_state)&&void 0!==i?i:"",rules:[["req",(0,e.localize)("State is required")],["regular",(0,e.localize)("State is not in a proper format"),{regex:/^[\w\s\W'.-;,]{0,60}$/}]]},address_postcode:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(l=d.address_postcode)&&void 0!==l?l:"",rules:[["length",(0,e.localize)("Please enter a {{field_name}} under {{max_number}} characters.",{field_name:(0,e.localize)("postal/ZIP code"),max_number:20,interpolation:{escapeValue:!1}}),{min:0,max:20}],["postcode",(0,s.getErrorMessages)().postcode()]]}}:{}},t=function(s,r){return"im"===r&&s.address_state.rules.shift(),/^(im|gb)$/.test(r)&&s.address_postcode.rules.splice(0,0,["req",(0,e.localize)("Postal/ZIP code is required")]),s},i=function(e,s){var r=s.real_account_signup_target;return r&&"svg"!==r||e.address_state.rules.shift(),e};const l=function(a,o){var l=a.upgrade_info,d=a.real_account_signup_target,n=a.residence,u=a.account_settings,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p="svg"===(null==l?void 0:l.can_upgrade_to),_=r({account_settings:u,is_svg:p});return{header:{active_title:c?(0,e.localize)("Where do you live?"):(0,e.localize)("Complete your address details"),title:c?(0,e.localize)("ADDRESS"):(0,e.localize)("Address")},body:o,form_value:(0,s.getDefaultFields)(d,_),props:{validate:(0,s.generateValidationFunction)(d,i(t(_,n),d)),is_svg:p},passthrough:["residence_list","is_fully_authenticated"],icon:"IcDashboardAddress"}}})(),o.default})()}));